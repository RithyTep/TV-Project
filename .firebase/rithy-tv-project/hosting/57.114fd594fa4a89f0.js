"use strict";(self.webpackChunkTV_Project=self.webpackChunkTV_Project||[]).push([[57],{57:(re,U,g)=>{g.r(U),g.d(U,{startInputShims:()=>oe});var W,H,b=g(5861),l=g(2972),O=g(4253),D=g(2961),F=g(3037);g(6319);const B=new WeakMap,x=(e,t,s,o=0,r=!1)=>{B.has(e)!==s&&(s?z(e,t,o,r):J(e,t))},z=(e,t,s,o=!1)=>{const r=t.parentNode,n=t.cloneNode(!1);n.classList.add("cloned-input"),n.tabIndex=-1,o&&(n.disabled=!0),r.appendChild(n),B.set(e,n);const i="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform=`translate3d(${i}px,${s}px,0) scale(0)`},J=(e,t)=>{const s=B.get(e);s&&(B.delete(e),s.remove()),e.style.pointerEvents="",t.style.transform=""},k=50,Q=(e,t,s)=>{if(!s||!t)return()=>{};const o=i=>{(e=>e===e.getRootNode().activeElement)(t)&&x(e,t,i)},r=()=>x(e,t,!1),n=()=>o(!0),f=()=>o(!1);return(0,D.a)(s,"ionScrollStart",n),(0,D.a)(s,"ionScrollEnd",f),t.addEventListener("blur",r),()=>{(0,D.b)(s,"ionScrollStart",n),(0,D.b)(s,"ionScrollEnd",f),t.removeEventListener("blur",r)}},p="input, textarea, [no-blur], [contenteditable]",X=()=>{let e=!0,t=!1;const s=document,o=()=>{t=!0},r=()=>{e=!0},n=f=>{if(t)return void(t=!1);const i=s.activeElement;if(!i||i.matches(p))return;const a=f.target;a!==i&&(a.matches(p)||a.closest(p)||(e=!1,setTimeout(()=>{e||i.blur()},50)))};return(0,D.a)(s,"ionScrollStart",o),s.addEventListener("focusin",r,!0),s.addEventListener("touchend",n,!1),()=>{(0,D.b)(s,"ionScrollStart",o,!0),s.removeEventListener("focusin",r,!0),s.removeEventListener("touchend",n,!1)}},E=(e,t,s,o)=>{var r;const n=null!==(r=e.closest("ion-item,[ion-item]"))&&void 0!==r?r:e;return ee(n.getBoundingClientRect(),t.getBoundingClientRect(),s,o)},ee=(e,t,s,o)=>{const r=e.top,n=e.bottom,f=t.top,a=f+15,v=Math.min(t.bottom,o-s)-k-n,w=a-r,S=Math.round(v<0?-v:w>0?-w:0),y=Math.min(S,r-f),h=Math.abs(y)/.3;return{scrollAmount:y,scrollDuration:Math.min(400,Math.max(150,h)),scrollPadding:s,inputSafeY:4-(r-a)}},Z="$ionPaddingTimer",R=(e,t,s)=>{const o=e[Z];o&&clearTimeout(o),t>0?e.style.setProperty("--keyboard-offset",`${t}px`):e[Z]=setTimeout(()=>{e.style.setProperty("--keyboard-offset","0px"),s&&s()},120)},G=(e,t,s)=>{e.addEventListener("focusout",()=>{t&&R(t,0,s)},{once:!0})};let P=0;const j="data-ionic-skip-scroll-assist",te=(e,t,s,o,r,n,f,i=!1)=>{var a;const d=n&&(void 0===f||f.mode===F.a.None);let v=!1;const w=void 0!==l.w?l.w.innerHeight:0,S=h=>{!1!==v?Y(e,t,s,o,h.detail.keyboardHeight,d,i,w,!1):v=!0},y=()=>{v=!1,null==l.w||l.w.removeEventListener("ionKeyboardDidShow",S),e.removeEventListener("focusout",y,!0)},m=function(){return(a=a||(0,b.Z)(function*(){t.hasAttribute(j)?t.removeAttribute(j):(Y(e,t,s,o,r,d,i,w),null==l.w||l.w.addEventListener("ionKeyboardDidShow",S),e.addEventListener("focusout",y,!0))})).apply(this,arguments)};return e.addEventListener("focusin",m,!0),()=>{e.removeEventListener("focusin",m,!0),null==l.w||l.w.removeEventListener("ionKeyboardDidShow",S),e.removeEventListener("focusout",y,!0)}},N=e=>{document.activeElement!==e&&(e.setAttribute(j,"true"),e.focus())},Y=function(t,s,o,r,n,f){return(W=W||(0,b.Z)(function*(i,a,d,v,w,S,y=!1,m=0,h=!0){if(!d&&!v)return;const _=E(i,d||v,w,m);if(d&&Math.abs(_.scrollAmount)<4)return N(a),void(S&&null!==d&&(R(d,P),G(a,d,()=>P=0)));if(x(i,a,!0,_.inputSafeY,y),N(a),(0,D.r)(()=>i.click()),S&&d&&(P=_.scrollPadding,R(d,P)),typeof window<"u"){var T;let A;const u=function c(){return(T=T||(0,b.Z)(function*(){void 0!==A&&clearTimeout(A),window.removeEventListener("ionKeyboardDidShow",L),window.removeEventListener("ionKeyboardDidShow",c),d&&(yield(0,O.c)(d,0,_.scrollAmount,_.scrollDuration)),x(i,a,!1,_.inputSafeY),N(a),S&&G(a,d,()=>P=0)})).apply(this,arguments)},L=()=>{window.removeEventListener("ionKeyboardDidShow",L),window.addEventListener("ionKeyboardDidShow",u)};if(d){const c=yield(0,O.g)(d);if(h&&_.scrollAmount>c.scrollHeight-c.clientHeight-c.scrollTop)return"password"===a.type?(_.scrollAmount+=k,window.addEventListener("ionKeyboardDidShow",L)):window.addEventListener("ionKeyboardDidShow",u),void(A=setTimeout(u,1e3))}u()}})).apply(this,arguments)},se=!0,oe=function(t,s){return(H=H||(0,b.Z)(function*(o,r){var n;if(void 0===l.d)return;const f="ios"===r,i="android"===r,a=o.getNumber("keyboardHeight",290),d=o.getBoolean("scrollAssist",!0),v=o.getBoolean("hideCaretOnScroll",f),w=o.getBoolean("inputBlurring",f),S=o.getBoolean("scrollPadding",!0),y=Array.from(l.d.querySelectorAll("ion-input, ion-textarea")),m=new WeakMap,h=new WeakMap,_=yield F.K.getResizeMode(),T=function(L){return(n=n||(0,b.Z)(function*(c){yield new Promise(C=>(0,D.c)(c,C));const K=c.shadowRoot||c,I=K.querySelector("input")||K.querySelector("textarea"),M=(0,O.f)(c),$=M?null:c.closest("ion-footer");if(I){if(M&&v&&!m.has(c)){const C=Q(c,I,M);m.set(c,C)}if("date"!==I.type&&"datetime-local"!==I.type&&(M||$)&&d&&!h.has(c)){const C=te(c,I,M,$,a,S,_,i);h.set(c,C)}}})).apply(this,arguments)};w&&se&&X();for(const u of y)T(u);l.d.addEventListener("ionInputDidLoad",u=>{T(u.detail)}),l.d.addEventListener("ionInputDidUnload",u=>{(u=>{if(v){const L=m.get(u);L&&L(),m.delete(u)}if(d){const L=h.get(u);L&&L(),h.delete(u)}})(u.detail)})})).apply(this,arguments)}}}]);