<div class="container">
  <button
    style="margin-left: 10px"
    mat-raised-button
    *ngIf="(afAuth.authState | async) === null"
    (click)="auth.loginWithGoogle()"
    color="accent"
  >
    Sign In
  </button>
  <button
    style="margin-left: 10px"
    *ngIf="afAuth.authState | async"
    (click)="auth.logout()"
    mat-raised-button
    color="primary"
  >
    Sign Out
  </button>
  <div class="row">
    <div class="text-center">
      <h1>
        Welcome {{ data.username }} <br />
        <div>Channel: {{ data.SelectedIndex }}, {{ data.ChannelName }}</div>
      </h1>
    </div>
    <div class="centre">
      <div class="tv-frame">
        <video #videoPlayer controls autoplay class="w-100 video"></video>
      </div>
    </div>
    <div class="channel">
      <h2>Local Channels</h2>
      <button
        *ngFor="let channel of store.localChannels; let i = index"
        mat-raised-button
        color="primary"
        [class.active]="activeLocalChannel === i"
        (click)="createCollection(i, channel.name); changeChannel(i, true)"
      >
        {{ i }}. {{ channel.name }}
      </button>
    </div>
    <div class="channel">
      <h2>Global Channels</h2>
      <button
        *ngFor="let channel of store.globalChannels; let i = index"
        mat-raised-button
        color="primary"
        [class.active]="activeGlobalChannel === i"
        (click)="changeChannel(i, false)"
      >
        {{ channel.name }}
      </button>
    </div>
  </div>
</div>
<div class="remote-control">
  <p class="title-remote">RITHY SMART TV</p>
  <p class="title-remote">{{ data.key }}</p>
  <div class="volume-display">Volume: {{ volumeLevel }}</div>
  <div class="number-display">
    Channel: {{ channelIndex || data.SelectedIndex }}
  </div>

  <div class="remote-row">
    <button class="remote-button">&#8593;</button>
  </div>
  <div class="remote-row">
    <button class="remote-button">&#8592;</button>
    <button class="remote-button">OK</button>
    <button class="remote-button">&#8594;</button>
  </div>
  <div class="remote-row">
    <button class="remote-button">&#8595;</button>
  </div>
  <div class="remote-row">
    <button class="remote-button" (click)="increaseVolume()">Vol +</button>
    <button
      class="remote-button"
      (click)="changeChannel(this.selectedIndex + 1, true)"
    >
      Ch +
    </button>
  </div>
  <div class="remote-row">
    <button class="remote-button" (click)="decreaseVolume()">Vol -</button>
    <button
      class="remote-button"
      (click)="changeChannel(this.selectedIndex - 1, true)"
    >
      Ch -
    </button>
  </div>
  <div class="channel-input">
    <div class="number-buttons">
      <button
        class="num"
        *ngFor="let num of [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]"
        (click)="updateChannelIndex(num)"
      >
        {{ num }}
      </button>
    </div>
  </div>
</div>
